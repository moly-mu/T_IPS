# Entidades Médicas - Sistema de Gestión

## 🏥 1. `MedicalHistory`
**Función**: Historia clínica base del paciente. Aquí se centraliza toda su información médica acumulada.

**Campos clave**:
* Correo electrónico
* Tipo de afiliación EPS
* Contacto de emergencia

**Relaciones**:
* `1:1` con `Patient`
* `1:N` con: `MedicalConsultation`, `Diagnosis`, `MedicalBackground`, `Prescription`, `DiagnosticFile`

## 💬 2. `MedicalConsultation`
**Función**: Representa una consulta médica específica.

**Campos clave**:
* Motivo de consulta
* Notas médicas del profesional
* Signos vitales
* Modo de consulta (chat, videollamada, etc.)
* Ubicación del paciente
* Resumen final

**Relaciones**:
* `N:1` con `MedicalHistory`

## 🧠 3. `Diagnosis`
**Función**: Registro de diagnósticos médicos generados durante una consulta.

**Campos clave**:
* Código CIE-10
* Descripción del diagnóstico
* Tipo (presuntivo o definitivo)
* Si es el principal
* Fecha del diagnóstico

**Relaciones**:
* `N:1` con `MedicalHistory`

## 🧬 4. `MedicalBackground`
**Función**: Guarda los antecedentes médicos del paciente.

**Tipos**:
* Personales
* Familiares
* Alérgicos
* Quirúrgicos
* Farmacológicos

**Relaciones**:
* `N:1` con `MedicalHistory`

## 📎 5. `DiagnosticFile`
**Función**: Contiene archivos como estudios médicos (DICOM, imágenes, PDFs).

**Campos clave**:
* Nombre y tipo del archivo
* Fecha del estudio
* Especialidad que lo solicitó
* Estado (pendiente, recibido, interpretado)

**Relaciones**:
* `N:1` con `MedicalHistory`

## 💊 6. `Prescription`
**Función**: Representa una receta médica emitida por un profesional.

**Campos clave**:
* Medicamento, dosis, frecuencia, duración
* Indicaciones adicionales
* Fecha de emisión
* Medio de envío (correo, SMS)

**Relaciones**:
* `N:1` con `MedicalHistory`

## 📝 7. `Consent`
**Función**: Registra el consentimiento informado digital del paciente.

**Campos clave**:
* Quién lo firmó (paciente o tutor)
* Relación con el paciente
* Firma digital o hash
* Fecha y texto legal completo

**Relaciones**:
* `N:1` con `Patient`
* `N:1` con `Specialty`

## 🧾 8. `Invoice`
**Función**: Representa la factura por una cita médica.

**Campos clave**:
* Monto a pagar
* Método de pago
* Estado del pago (pendiente, pagado, fallido)
* Fechas de emisión y pago

**Relaciones**:
* `N:1` con `Appointment`
* `N:1` con `User` (paciente)

## 📄 9. `AppointmentReceipt`
**Función**: Comprobante digital generado cuando se agenda una cita.

**Campos clave**:
* URL del comprobante (puede ser PDF)
* Fecha de emisión
* Notas u observaciones

**Relaciones**:
* `N:1` con `Appointment`
* `N:1` con `User` (paciente)

## 🩺 10. `MedicalOrder`
**Función**: Orden médica emitida por el profesional (ej. laboratorios, imágenes, etc.).

**Campos clave**:
* Descripción de la orden
* Instrucciones
* Estado (pendiente, entregado, anulado)
* Fecha de emisión

**Relaciones**:
* `N:1` con `Appointment`
* `N:1` con `User` (profesional tratante)
* `N:1` con `User` (paciente)